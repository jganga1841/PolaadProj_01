<div class="row">
    <div class="col-lg-12">
        <h5 class="page-title">Loading Slip</h5>
    </div>
    <!-- /.col-lg-12 -->
</div>
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default ">
            <div class="panel-heading">
                Loading Slip
            </div>
            <div class="panel-body " style="padding-left: 0px; padding-right: 0px">
                <div class="row " *ngIf="lblConfirmationMsg != undefined && !isQuotaDeclared">
                    <div class="col-md-12 top10">
                        <div class="alert alert-danger" role="alert">
                            <div class="error-template">
                                <h1>
                                    Oops! <i class="fa fa-frown-o" aria-hidden="true" style="height: 42px"></i> </h1>
                                <h2>
                                    {{lblConfirmationMsg}}</h2>
                                <div class="error-details">
                                    Will notify you once it will Declared!
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf=isQuotaDeclared>
                    <div class="row ">
                        <div class="col-lg-12">
                            <div class="top10" *ngIf="!isLoginByCnf">
                                <!--<label class="control-label-left col-sm-1" for="vehicleNumber">Cnf Name</label>-->
                                <div class="col-sm-4">
                                    <input ng2-auto-complete [formControl]="continent" [(ngModel)]="cnfTo.Text" [source]="cnfOrgList" [list-formatter]="autocompleListFormatter" value-property-name="Value" display-property-name="Text" placeholder="cnf Name" class="form-control" (valueChanged)="OnCnfvalueChanged($event)"
                                        (ngModelChange)="OnCnfvalueChanged($event)">

                                </div>
                            </div>

                            <div class="top10">
                                <!--<label class="control-label-left col-sm-2" for="vehicleNumber">Vehicle Number:</label>-->
                                <div class="col-sm-3">
                                    <input name="VehicleNo" type="text" class="form-control" required id="txtvehicleNumber" placeholder="Vehicle No" [(ngModel)]="loadingTO.VehicleNo">
                                </div>
                            </div>
                            <div class="top10">
                                <label name="IsJointDelivery" class="control-label col-sm-2"><input type="checkbox" (change) = "$event.target.checked ? true : false" [(ngModel)]="isJointDelivery" name="isJointDelivery">Joint Delivery?</label>
                            </div>
                            <div class="top10">
                                <!--<label class="control-label col-sm-2" for="noOfDeliveries">No. Of Deliveries:</label>-->

                                <div class="col-sm-3">
                                    <select name="noOfDelivery" required (change)="onNoOfDeliveryChange($event.target.value)" class="form-control col-sm-3" [(ngModel)]="loadingTO.NoOfDeliveries ">
                                    <option value="0">No. of Deliveries</option>
                                   <option *ngFor="let noOfDeliveries of noOfDeliveriesList " [value]="noOfDeliveries.Text" [selected]="noOfDeliveries.Value === loadingTO.NoOfDeliveries">{{noOfDeliveries.Text}}</option>
                                </select>
                                    <!--<input name="NoOfDeliveries" type="text" class="form-control" id="txtNoOfDeliveries" placeholder="No. Of Deliveries:" [(ngModel)]="noOfDelivery">-->
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="top10">
                        <div class="col-sm-4">
                            <input ng2-auto-complete [(ngModel)]="transporterTo.Text" [source]="transporterOrgList" [list-formatter]="autocompleListFormatter" value-property-name="Value" display-property-name="Text" placeholder="Transporter Name" class="form-control">

                        </div>
                    </div>

                    <div class="top10">
                        <div class="col-sm-3">
                            <input name="Freight Charges" type="number" class="form-control no-spin" required id="txtFreightCharges" placeholder="Freight Charges" [(ngModel)]="loadingTO.FreightChrg">

                        </div>
                        <label>(Rs./ MT)</label>
                    </div>

                    <div class="row top10">
                        <div class="col-lg-12">
                            <div>
                                <!--Delivery Address Model pop-up-->
                                <div id="myModal" class="modal fade" data-backdrop="static">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                                <h4 class="modal-title">Select Delivery Address</h4>
                                            </div>
                                            <div class="modal-body">
                                                <div class="row  col-lg-12 top10">

                                                    <button type="button " class="btn btn-primary " (click)="addNewDeeliveryAddr()">
                            </button>
                                                </div>
                                                <div class="row ">
                                                    <div class="col-lg-12 top10">
                                                        <div class="table-responsive ">
                                                            <table class="table table-bordered table-hover">
                                                                <thead>
                                                                    <tr class="bg-info">
                                                                        <th>Select</th>
                                                                        <th>Delivery Address</th>
                                                                        <th>Village</th>
                                                                        <th>Taluka</th>
                                                                        <th>District</th>
                                                                        <th>Pin Code </th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let deliveryAddrTo of tempListDeliveryAddr">

                                                                        <td>
                                                                            <!--<input name="IsAddrSelect" type="radio" [checked]="deliveryAddrTo.IsSelected === true " (change)="onDeliveryAddrSelectionChange(deliveryAddrTo)" [value]="true">-->
                                                                            <input [(ngModel)]="deliveryAddrTo.IsSelected" type="checkbox" (change)="onDeliveryAddrSelectionChange(deliveryAddrTo)">
                                                                        </td>
                                                                        <td>
                                                                            <input class="form-control" placeholder="{{deliveryAddrTo.Address}}" [(ngModel)]="deliveryAddrTo.Address" name="Address">
                                                                        </td>
                                                                        <td>
                                                                            <input class="form-control" placeholder="{{deliveryAddrTo.VillageName}}" [(ngModel)]="deliveryAddrTo.VillageName" name="VillageName">
                                                                        </td>
                                                                        <td>
                                                                            <input class="form-control" placeholder="{{deliveryAddrTo.TalukaName}}" [(ngModel)]="deliveryAddrTo.TalukaName" name="TalukaName">
                                                                        </td>
                                                                        <td>
                                                                            <input class="form-control" placeholder="{{deliveryAddrTo.DistrictName}}" [(ngModel)]="deliveryAddrTo.DistrictName" name="DistrictName">
                                                                        </td>
                                                                        <td class="col-sm-2">
                                                                            <input type="number" class="form-control" placeholder="{{deliveryAddrTo.Pincode}}" [(ngModel)]="deliveryAddrTo.Pincode" name="Pincode">
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-primary" data-dismiss="modal" [disabled]="!isAddrSelected">Submit</button>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <!--Matrial Quota adding againest booked order-->
                                <div id="materialAddingModel" class="modal fade" data-backdrop="static" *ngIf="isDispMaterialSizess">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                                <h4 class="modal-title">Enter Qty (MT)</h4>
                                            </div>
                                            <div class="modal-body">
                                                <div class="row ">
                                                    <div class="col-lg-12">

                                                        <div class="">
                                                            <div class="col-sm-3">
                                                                <label class="checkbox-inline">
                                                        <input type="radio" class="form-check-input  " name="optionsRadios" id="optionsRadios1"   [value]="false" [(ngModel)]="ProdCatVal" name="isPlain" [checked]="ProdCatVal===false" (click)="CollectMatvsBookedOrder(1)">
						                                 TMT</label>
                                                            </div>
                                                            <div class="col-sm-3">
                                                                <label class="checkbox-inline">
						                                <input type="radio" class="form-check-input" name="optionsRadios" id="optionsRadios1"    [value]="true"  [(ngModel)]="ProdCatVal" name="IsTMT" [checked]="ProdCatVal===true" (click)="CollectMatvsBookedOrder(2)">
						                                    Plain</label>
                                                            </div>

                                                            <div class="col-sm-4" style="text-align: right;">
                                                                Qty To Load : {{ loadingSlipTO.TblLoadingSlipDtlTO == undefined? 0 : loadingSlipTO.TblLoadingSlipDtlTO.LoadingQty}}
                                                            </div>
                                                        </div>


                                                    </div>
                                                </div>
                                                <div class="row ">
                                                    <div class="col-lg-12 top10">
                                                        <div class="table-responsive ">
                                                            <table class="table table-bordered table-hover">
                                                                <thead>

                                                                    <tr class="bg-info">
                                                                        <th style="padding: 3px">Size/Specs</th>
                                                                        <th *ngFor="let prodSpec of productSpec" style="padding: 3px">{{prodSpec}}</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <!--<tr *ngFor=" let materialTo of productMaterialSpecAndCatList ">
                                                                <td style="padding: 3px">
                                                                    {{materialTo.MaterialCategory}}
                                                                </td>
                                                                <td style="padding: 3px">
                                                                    <input name="StraightQty" type="number" class="form-control" placeholder="{{materialTo.StraightQty}}" [(ngModel)]="materialTo.StraightQty" (click)="selectOnClick($event)" (keyup)="validateLoadingQtyAgainestLayer($event, 'Straight', materialTo)" (ngChange)="calculateTotalEnterQty()">
                                                                </td>
                                                                <td style="padding: 3px">
                                                                    <input name="BendQty" type="number" class="form-control" placeholder="{{materialTo.BendQty}}" [(ngModel)]="materialTo.BendQty" (click)="selectOnClick($event)" (keyup)="validateLoadingQtyAgainestLayer($event, 'Bend', materialTo)" (ngChange)="calculateTotalEnterQty()">
                                                                </td>
                                                                <td style="padding: 3px">
                                                                    <input name="RKShortQty" type="number" class="form-control" placeholder="{{materialTo.RKShortQty}}" [(ngModel)]="materialTo.RKShortQty" (click)="selectOnClick($event)" (keyup)="validateLoadingQtyAgainestLayer($event, 'RKShort', materialTo)" (ngChange)="calculateTotalEnterQty()">
                                                                </td>
                                                                <td style="padding: 3px">
                                                                    <input name="RKLongQty" type="number" class="form-control" placeholder="{{materialTo.RKLongQty}}" [(ngModel)]="materialTo.RKLongQty" (click)="selectOnClick($event)" (keyup)="validateLoadingQtyAgainestLayer($event, 'RKLong', materialTo)" (ngChange)="calculateTotalEnterQty()">
                                                                </td>
                                                                <td style="padding: 3px">
                                                                    <input name="TukadaQty" type="number" class="form-control" placeholder="{{materialTo.TukadaQty}}" [(ngModel)]="materialTo.TukadaQty" (click)="selectOnClick($event)" (keyup)="validateLoadingQtyAgainestLayer($event, 'Tukada', materialTo)" (ngChange)="calculateTotalEnterQty()">
                                                                </td>
                                                                <td style="padding: 3px">
                                                                    <input name="CoilQty" type="number" class="form-control" placeholder="{{materialTo.CoilQty}}" [(ngModel)]="materialTo.CoilQty" (click)="selectOnClick($event)" (keyup)="validateLoadingQtyAgainestLayer($event, 'Coil', materialTo)" (ngChange)="calculateTotalEnterQty()">
                                                                </td>

                                                            </tr>-->
                                                                    <tr *ngFor=" let key of keys ">
                                                                        <td style="padding: 3px" *ngFor="let stockDetTo of productSizeSpecGroupedStockList[key];">
                                                                            <p class="nopadding" *ngIf="stockDetTo.value == key || stockDetTo.key == 'Quota' "> {{stockDetTo.value }} </p>
                                                                            <p class="nopadding" *ngIf="stockDetTo.value != key && stockDetTo.key != 'Quota'">
                                                                                <input name="stockDetTo" type="number" class="form-control" placeholder="{{stockDetTo.value}}" [(ngModel)]="stockDetTo.value" (click)="selectOnClick($event)" (keyup)="calculateTotalEnterQty()">
                                                                            </p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="bg-info" style="padding: 3px" *ngFor="let stockDetToBot of productSizeSpecGroupedStockList['Total'];">
                                                                            {{stockDetToBot.value }}
                                                                        </td>
                                                                    </tr>

                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="addLoadingQtyInExtTOList()" [disabled]="!isValidLoadedQty">Submit</button>
                                                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <div class="panel-body " *ngIf="loadingTO.NoOfDeliveries>0">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div class="panel with-nav-tabs panel-default parentTabs tabbable">
                                                <div class="panel-heading">
                                                    <ul class="nav  nav-tabs">
                                                        <li class="active" *ngIf="isBottomLoading !=0" name="top" (click)="mapLayerDeliveryAddr(1)"><a href="#bottomdefault" data-toggle="tab">Bottom</a></li>
                                                        <li *ngIf=" isMiddle1Loading!=0" name="middle1" (click)="mapLayerDeliveryAddr(2)"><a href="#middle1default" data-toggle="tab"><p *ngIf="loadingTO.NoOfDeliveries > 3">Middle 1 </p>
                                        <p *ngIf="loadingTO.NoOfDeliveries == 3">Middle  </p></a></li>
                                                        <li *ngIf="isMiddle2Loading !=0" name="middle2" (click)="mapLayerDeliveryAddr(3)"><a href="#middle2default" data-toggle="tab">Middle 2</a></li>
                                                        <li *ngIf="isMiddle3Loading != 0" name="middle3" (click)="mapLayerDeliveryAddr(4)"><a href="#middle3default" data-toggle="tab">Middle 3</a></li>
                                                        <li *ngIf="isTopLoading != 0" name="top" (click)="mapLayerDeliveryAddr(5)"><a href="#topdefault" data-toggle="tab">Top</a></li>

                                                    </ul>
                                                </div>
                                                <div class="panel-body">
                                                    <div class="tab-content">
                                                        <!--Bottom loading material-->
                                                        <div class="tab-pane fade in active" id="bottomdefault" *ngIf="isBottomLoading !=0">
                                                            <div class="row">
                                                                <div class="col-lg-12">
                                                                    <div class=" form-group">
                                                                        <div class="col-sm-6">
                                                                            <input ng2-auto-complete [(ngModel)]="dealerTo.Text" [source]="dealerList" [list-formatter]="autocompleListFormatter" value-property-name="Value" display-property-name="Text" placeholder="Dealer Name" class="form-control" (valueChanged)="onDealerNameSelection($event)">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="control-label-left col-sm-3">CD Structure:</label>
                                                                        <div class="col-sm-2">
                                                                            <select name="CdStructure" class="form-control col-sm-3" [(ngModel)]="loadingSlipTO.CdStructureId">
                                                            <option *ngFor="let cdStructure of cdStructureLst " [value]="cdStructure.Value"
                                                             >{{cdStructure.Text}}</option>
                                                            </select>
                                                                        </div>
                                                                        <label class="col-sm-1">(%)</label>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                            <div class="row top10" *ngIf="lblBookingNotFoundMsg ==undefined || lblBookingNotFoundMsg == ''">
                                                                <squeezebox [multiple]=" false ">
                                                                    <sb-item>
                                                                        <!--[(collapsed)]="!isExpandOrder "-->
                                                                        <div class="panel-heading ">
                                                                            <sb-item-head>
                                                                                Pending Qty
                                                                            </sb-item-head>
                                                                        </div>

                                                                        <div class="col-lg-12 ">
                                                                            <sb-item-body>
                                                                                <div class="table-responsive ">
                                                                                    <table class="table table-bordered table-hover ">
                                                                                        <thead>
                                                                                            <tr class="bg-info ">
                                                                                                <th>Select</th>
                                                                                                <th>Booking#</th>
                                                                                                <th>Date</th>
                                                                                                <th>Qty</th>
                                                                                                <th>Bal Qty</th>
                                                                                                <th>Rate</th>
                                                                                                <th>Confirmed</th>
                                                                                                <th>Qty To Load</th>
                                                                                                <th>Sizes</th>
                                                                                            </tr>
                                                                                        </thead>
                                                                                        <tbody>
                                                                                            <tr *ngFor="let dealerBookingInfo of dealerBookingList ">
                                                                                                <!--<ng-template [ngIf]="dealerBookingInfo.PendingQty> dealerBookingInfo.LoadingQty">-->
                                                                                                <td>
                                                                                                    <!--<input name="IsSelect" type="radio" [checked]="idx === 0" (change)="onSelectionChange(dealerBookingInfo)" [value]="true">
                                                                                      <input #{{rp.id}}  [(ngModel)]="rp.selected" type="checkbox" (change)="checkbox(rp)">-->
                                                                                                    <input [(ngModel)]="dealerBookingInfo.IsSelect" type="checkbox" (change)="onSelectionChange(dealerBookingInfo)">
                                                                                                </td>
                                                                                                <td>{{dealerBookingInfo.IdBooking}}</td>
                                                                                                <td>{{dealerBookingInfo.CreatedOnStr}}</td>
                                                                                                <td>{{dealerBookingInfo.PendingQty}}</td>
                                                                                                <!--<td>{{+dealerBookingInfo.PendingQty + -dealerBookingInfo.LoadingQty}}</td>-->
                                                                                                <td>{{dealerBookingInfo.BalQty }}</td>
                                                                                                <td>{{dealerBookingInfo.BookingRate}}</td>
                                                                                                <td>
                                                                                                    <p *ngIf="dealerBookingInfo.IsConfirmed==1">
                                                                                                        Confirmed
                                                                                                    </p>
                                                                                                    <p *ngIf="dealerBookingInfo.IsConfirmed==0">
                                                                                                        Non-Confirmed
                                                                                                    </p>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <input type="number" name="LoadingQty" class="form-control col-xs-2 col-sm-2" placeholder="Enter Loading Qty " [(ngModel)]="dealerBookingInfo.LoadingQty" (ngModelChange)="valuechange($event, dealerBookingInfo)" [disabled]="!dealerBookingInfo.IsSelect">
                                                                                                    <!--[max]="{{dealerBookingInfo.PendingQty}}"-->
                                                                                                </td>
                                                                                                <td>
                                                                                                    <!--<i class="fa fa-bars" aria-hidden="true"></i>-->
                                                                                                    <button type="button" class="fa fa-bars btn btn-primary" (click)="CollectMatvsBookedOrder(1,dealerBookingInfo)" data-toggle="modal" data-target="#materialAddingModel"></button>
                                                                                                </td>
                                                                                                <!--</ng-template>-->
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    </table>
                                                                                </div>
                                                                            </sb-item-body>
                                                                        </div>
                                                                    </sb-item>
                                                                </squeezebox>
                                                            </div>
                                                            <div class="row col-lg-12" *ngIf="lblBookingNotFoundMsg !=undefined && lblBookingNotFoundMsg !=''">
                                                                <div class="form-group" style="color: red">( Awee! <i class="fa fa-meh-o" style="width: 15px;height: 15px" aria-hidden="true"></i> {{lblBookingNotFoundMsg}} )</div>
                                                            </div>
                                                            <!--Select Address & Material Config For Bottom-->
                                                            <div class="row top10">
                                                                <div class="col-lg-12">
                                                                    <div class="panel with-nav-tabs panel-default parentTabs tabbable">
                                                                        <div class="panel-heading">
                                                                            <ul class="nav  nav-tabs">
                                                                                <li class="active" name="DeliveryAddr"><a href="#bottomDeliveryAddr" data-toggle="tab">Delivery Address</a></li>
                                                                                <li name="MaterialSpec"><a href="#bottomMaterialSpec" data-toggle="tab">Loading Material</a></li>
                                                                            </ul>
                                                                        </div>
                                                                        <div class="panel-body">
                                                                            <div class="tab-content">
                                                                                <div class="tab-pane fade in active" id="bottomDeliveryAddr">

                                                                                    <div class="row  col-lg-12 ">

                                                                                        <i class="fa fa-plus col-sm-4" style="padding-left: 0px;width: 106px; height: 15px" aria-hidden="true" (click)="addNewDeeliveryAddr()">Add Address</i>
                                                                                        <!--<button type="button " class="btn btn-primary " (click)="addNewDeeliveryAddr()">+One More Address</button>-->
                                                                                    </div>
                                                                                    <div class="row ">
                                                                                        <div class="col-lg-12 top10">
                                                                                            <div class="table-responsive ">
                                                                                                <table class="table table-bordered table-hover">
                                                                                                    <thead>
                                                                                                        <tr class="bg-info">
                                                                                                            <th>Select</th>
                                                                                                            <th>Delivery Address</th>
                                                                                                            <th>Village</th>
                                                                                                            <th>Taluka</th>
                                                                                                            <th>District</th>
                                                                                                            <th>Pin Code </th>
                                                                                                        </tr>
                                                                                                    </thead>
                                                                                                    <tbody>
                                                                                                        <tr *ngFor="let deliveryAddrTo of tempListDeliveryAddr">

                                                                                                            <td>
                                                                                                                <!--<input name="IsAddrSelect" type="radio" [checked]="deliveryAddrTo.IsSelected == true " [(ngModel)]="deliveryAddrTo.IsSelected" (change)="onDeliveryAddrSelectionChange(deliveryAddrTo)" [value]="true">-->
                                                                                                                <input [(ngModel)]="deliveryAddrTo.IsSelected" type="checkbox" (change)="onDeliveryAddrSelectionChange(deliveryAddrTo)">

                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.Address}}" [(ngModel)]="deliveryAddrTo.Address" name="Address">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.VillageName}}" [(ngModel)]="deliveryAddrTo.VillageName" name="VillageName">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.TalukaName}}" [(ngModel)]="deliveryAddrTo.TalukaName" name="TalukaName">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.DistrictName}}" [(ngModel)]="deliveryAddrTo.DistrictName" name="DistrictName">
                                                                                                            </td>
                                                                                                            <td class="col-sm-2">
                                                                                                                <input type="number" class="form-control" placeholder="{{deliveryAddrTo.Pincode}}" [(ngModel)]="deliveryAddrTo.Pincode" name="Pincode">
                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    </tbody>
                                                                                                </table>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>

                                                                                </div>
                                                                                <div class="tab-pane fade in" id="bottomMaterialSpec">
                                                                                    <!--<div class="row">
                                                                                <div class="col-lg-12">
                                                                                    <div class="form-group">
                                                                                        <div class=" form-group col-sm-3" style="padding-left : 0px">
                                                                                            <button type="button" class="btn btn-primary" (click)="CollectMatvsBookedOrder()" data-toggle="modal" data-target="#materialAddingModel">Select Sizes</button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>-->
                                                                                    <div class="row">
                                                                                        <div class="col-lg-12">
                                                                                            <div class="">
                                                                                                <div class="table-responsive">
                                                                                                    <table class="table table-bordered">
                                                                                                        <thead class="bg-default">
                                                                                                            <tr>
                                                                                                                <th>Booking#</th>
                                                                                                                <th>Material</th>
                                                                                                                <th>Category</th>
                                                                                                                <th>Specification</th>
                                                                                                                <th>Qty</th>

                                                                                                            </tr>
                                                                                                        </thead>
                                                                                                        <tbody>
                                                                                                            <tr *ngFor="let loadingMaterialSeq of bottomLoadingMaterialSequenceTOList">
                                                                                                                <td>{{loadingMaterialSeq.BookingId}}</td>
                                                                                                                <td>{{loadingMaterialSeq.MaterialDesc}}</td>
                                                                                                                <td>{{loadingMaterialSeq.ProdCatDesc}}</td>
                                                                                                                <td>{{loadingMaterialSeq.ProdSpecDesc}}</td>
                                                                                                                <td>{{loadingMaterialSeq.LoadingQty}}</td>

                                                                                                            </tr>
                                                                                                        </tbody>

                                                                                                    </table>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>



                                                            </div>
                                                        </div>
                                                        <!--Middle 1 Loading Material-->
                                                        <div class="tab-pane fade" id="middle1default" *ngIf=" isMiddle1Loading!=0">
                                                            <div class="row">
                                                                <div class="col-lg-12">
                                                                    <!--<div class=" form-group">
                                                                <label class="control-label-left col-sm-2">Dealer Name :</label>

                                                                <div class="col-sm-4">
                                                                    <select class="form-control col-sm-3" required name="DealerOrgId" (change)="onSelect($event.target.value)" [(ngModel)]="selectedDealerID">
                                                 <option value="0">Select Dealer</option>
                                                    <option *ngFor="let DealerInfo of dealerList" [value]="DealerInfo.Value">{{DealerInfo.Text}}</option>
                                                    </select>
                                                                </div>
                                                            </div>-->
                                                                    <div class=" form-group">
                                                                        <div class="col-sm-6">
                                                                            <input ng2-auto-complete [(ngModel)]="dealerTo.Text" [source]="dealerList" [list-formatter]="autocompleListFormatter" value-property-name="Value" display-property-name="Text" placeholder="Dealer Name" class="form-control" (valueChanged)="onDealerNameSelection($event)">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="control-label-left col-sm-3">CD Structure:</label>

                                                                        <div class="col-sm-2">
                                                                            <select name="CdStructure" class="form-control col-sm-3" [(ngModel)]="loadingSlipTO.CdStructure">
                                                                <option *ngFor="let cdStructure of cdStructureLst " [value]="cdStructure.Text"
                                                            [selected]="cdStructure.Value === loadingSlipTO.CdStructure">{{cdStructure.Text}}</option>
                                                            </select>
                                                                        </div>
                                                                        <label class="col-sm-1">(%)</label>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                            <div class="row top10" *ngIf="lblBookingNotFoundMsg ==undefined || lblBookingNotFoundMsg == ''">
                                                                <squeezebox [multiple]="false">
                                                                    <sb-item>
                                                                        <!--[(collapsed)]="!isExpandOrder"-->
                                                                        <div class="panel-heading ">
                                                                            <sb-item-head>
                                                                                Pending Qty
                                                                            </sb-item-head>
                                                                        </div>

                                                                        <div class="col-lg-12 ">
                                                                            <sb-item-body>
                                                                                <div class="table-responsive ">
                                                                                    <table class="table table-bordered table-hover">
                                                                                        <thead>
                                                                                            <tr class="bg-info">
                                                                                                <th>Select</th>
                                                                                                <th>Booking#</th>
                                                                                                <th>Date</th>
                                                                                                <th>Qty</th>
                                                                                                <th>Bal Qty</th>
                                                                                                <th>Rate</th>
                                                                                                <th>Confirmed</th>
                                                                                                <th>Qty To Load</th>
                                                                                                <th>Sizes</th>
                                                                                            </tr>
                                                                                        </thead>
                                                                                        <tbody>
                                                                                            <tr *ngFor="let dealerBookingInfo of dealerBookingList ">
                                                                                                <td>
                                                                                                    <!--<input name="IsSelect" type="radio" [checked]="idx === 0" (change)="onSelectionChange(dealerBookingInfo)" [value]="true">-->
                                                                                                    <input [(ngModel)]="dealerBookingInfo.IsSelect" type="checkbox" (change)="onSelectionChange(dealerBookingInfo)">
                                                                                                </td>
                                                                                                <td>{{dealerBookingInfo.IdBooking}}</td>
                                                                                                <td>{{dealerBookingInfo.CreatedOnStr}}</td>
                                                                                                <td>{{dealerBookingInfo.PendingQty}}</td>
                                                                                                <!--<td>{{+dealerBookingInfo.PendingQty + -dealerBookingInfo.LoadingQty}}</td>-->
                                                                                                <td>{{dealerBookingInfo.BalQty }}</td>
                                                                                                <td>{{dealerBookingInfo.BookingRate}}</td>
                                                                                                <td>
                                                                                                    <p *ngIf="dealerBookingInfo.IsConfirmed==1">
                                                                                                        Confirmed
                                                                                                    </p>
                                                                                                    <p *ngIf="dealerBookingInfo.IsConfirmed==0">
                                                                                                        Non-Confirmed
                                                                                                    </p>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <input type="number" name="LoadingQty" class="form-control col-xs-2 col-sm-2" placeholder="Enter Loading Qty " [(ngModel)]="dealerBookingInfo.LoadingQty" (ngModelChange)="valuechange($event, dealerBookingInfo)" [disabled]="!dealerBookingInfo.IsSelect">
                                                                                                    <!--[max]="{{dealerBookingInfo.PendingQty}}"-->
                                                                                                </td>
                                                                                                <td><button type="button" class="fa fa-bars btn btn-primary" (click)="CollectMatvsBookedOrder(1,dealerBookingInfo)" data-toggle="modal" data-target="#materialAddingModel"></button></td>

                                                                                            </tr>
                                                                                        </tbody>
                                                                                    </table>
                                                                                </div>
                                                                            </sb-item-body>
                                                                        </div>
                                                                    </sb-item>
                                                                </squeezebox>
                                                            </div>
                                                            <div class="row col-lg-12" *ngIf="lblBookingNotFoundMsg !=undefined && lblBookingNotFoundMsg !=''">
                                                                <div class="form-group" style="color: red">( Awee! <i class="fa fa-meh-o" style="width: 15px;height: 15px" aria-hidden="true"></i> {{lblBookingNotFoundMsg}} )</div>
                                                            </div>

                                                            <!--Select Address & Material Config For Middle1-->
                                                            <div class="row top10">
                                                                <div class="col-lg-12">
                                                                    <div class="panel with-nav-tabs panel-default parentTabs tabbable">
                                                                        <div class="panel-heading">
                                                                            <ul class="nav  nav-tabs">
                                                                                <li class="active" name="DeliveryAddr"><a href="#middle1DeliveryAddr" data-toggle="tab">Delivery Address</a></li>
                                                                                <li name="MaterialSpec"><a href="#middle1MaterialSpec" data-toggle="tab">Loading Material</a></li>
                                                                            </ul>
                                                                        </div>
                                                                        <div class="panel-body">
                                                                            <div class="tab-content">
                                                                                <div class="tab-pane fade in active" id="middle1DeliveryAddr">

                                                                                    <div class="row  col-lg-12 top10">
                                                                                        <i class="fa fa-plus col-sm-4" style="padding-left: 0px;width: 106px; height: 15px" aria-hidden="true" (click)="addNewDeeliveryAddr()">Add Address</i>
                                                                                    </div>
                                                                                    <div class="row ">
                                                                                        <div class="col-lg-12 top10">
                                                                                            <div class="table-responsive ">
                                                                                                <table class="table table-bordered table-hover">
                                                                                                    <thead>
                                                                                                        <tr class="bg-info">
                                                                                                            <th>Select</th>
                                                                                                            <th>Delivery Address</th>
                                                                                                            <th>Village</th>
                                                                                                            <th>Taluka</th>
                                                                                                            <th>District</th>
                                                                                                            <th>Pin Code </th>
                                                                                                        </tr>
                                                                                                    </thead>
                                                                                                    <tbody>
                                                                                                        <tr *ngFor="let deliveryAddrTo of tempListDeliveryAddr">

                                                                                                            <td>
                                                                                                                <!--<input name="IsAddrSelect" type="radio" [(ngModel)]="deliveryAddrTo.IsSelected" (change)="onDeliveryAddrSelectionChange(deliveryAddrTo)" [value]="true" (click)="deliveryAddrTo.IsSelected = true">-->
                                                                                                                <input [(ngModel)]="deliveryAddrTo.IsSelected" type="checkbox" (change)="onDeliveryAddrSelectionChange(deliveryAddrTo)">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.Address}}" [(ngModel)]="deliveryAddrTo.Address" name="Address">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.VillageName}}" [(ngModel)]="deliveryAddrTo.VillageName" name="VillageName">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.TalukaName}}" [(ngModel)]="deliveryAddrTo.TalukaName" name="TalukaName">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.DistrictName}}" [(ngModel)]="deliveryAddrTo.DistrictName" name="DistrictName">
                                                                                                            </td>
                                                                                                            <td class="col-sm-2">
                                                                                                                <input type="number" class="form-control" placeholder="{{deliveryAddrTo.Pincode}}" [(ngModel)]="deliveryAddrTo.Pincode" name="Pincode">
                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    </tbody>
                                                                                                </table>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>

                                                                                </div>
                                                                                <div class="tab-pane fade in" id="middle1MaterialSpec">
                                                                                    <!--<div class="row">
                                                                                <div class="col-lg-12">
                                                                                    <div class="form-group">
                                                                                        <div class=" form-group col-sm-3" style="padding-left : 0px">
                                                                                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#materialAddingModel" (click)="CollectMatvsBookedOrder()">Select Sizes</button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>-->
                                                                                    <div class="row">
                                                                                        <div class="col-lg-12">
                                                                                            <div class="">
                                                                                                <div class="table-responsive">
                                                                                                    <table class="table table-bordered">
                                                                                                        <thead class="bg-default">
                                                                                                            <tr>
                                                                                                                <th>Booking#</th>
                                                                                                                <th>Material</th>
                                                                                                                <th>Category</th>
                                                                                                                <th>Specification</th>
                                                                                                                <th>Qty</th>

                                                                                                            </tr>
                                                                                                        </thead>
                                                                                                        <tbody>
                                                                                                            <tr *ngFor="let loadingMaterialSeq of middleLoadingMaterialSequenceTOList">
                                                                                                                <td>{{loadingMaterialSeq.BookingId}}</td>
                                                                                                                <td>{{loadingMaterialSeq.MaterialDesc}}</td>
                                                                                                                <td>{{loadingMaterialSeq.ProdCatDesc}}</td>
                                                                                                                <td>{{loadingMaterialSeq.ProdSpecDesc}}</td>
                                                                                                                <td>{{loadingMaterialSeq.LoadingQty}}</td>

                                                                                                            </tr>
                                                                                                        </tbody>

                                                                                                    </table>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>



                                                            </div>
                                                        </div>
                                                        <!--Middle 2 Loading Material-->
                                                        <div class="tab-pane fade" id="middle2default" *ngIf="isMiddle2Loading!=0">
                                                            <div class="row">
                                                                <div class="col-lg-12">
                                                                    <!--<div class=" form-group">
                                                                <label class="control-label-left col-sm-2">Dealer Name :</label>

                                                                <div class="col-sm-4">
                                                                    <select class="form-control col-sm-3" required name="DealerOrgId" (change)="onSelect($event.target.value)" [(ngModel)]="selectedDealerID">
                                                            <option value="0">Select Dealer</option>
                                                            <option *ngFor="let DealerInfo of dealerList" [value]="DealerInfo.Value">{{DealerInfo.Text}}</option>
                                                            </select>
                                                                </div>
                                                            </div>-->
                                                                    <div class=" form-group">
                                                                        <div class="col-sm-6">
                                                                            <input ng2-auto-complete [(ngModel)]="dealerTo.Text" [source]="dealerList" [list-formatter]="autocompleListFormatter" value-property-name="Value" display-property-name="Text" placeholder="Dealer Name" class="form-control" (valueChanged)="onDealerNameSelection($event)">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="control-label-left col-sm-3">CD Structure:</label>
                                                                        <div class="col-sm-2">
                                                                            <select name="CdStructure" class="form-control col-sm-3" [(ngModel)]="loadingSlipTO.CdStructure">
                                                            <option *ngFor="let cdStructure of cdStructureLst " [value]="cdStructure.Text"
                                                            [selected]="cdStructure.Value === loadingSlipTO.CdStructure">{{cdStructure.Text}}</option>
                                                            </select>
                                                                        </div>
                                                                        <label class="col-sm-1">(%)</label>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                            <div class="row top10" *ngIf="lblBookingNotFoundMsg ==undefined || lblBookingNotFoundMsg == ''">
                                                                <squeezebox [multiple]="false">
                                                                    <sb-item>
                                                                        <!--[(collapsed)]="!isExpandOrder"-->
                                                                        <div class="panel-heading ">
                                                                            <sb-item-head>
                                                                                Pending Qty
                                                                            </sb-item-head>
                                                                        </div>

                                                                        <div class="col-lg-12 ">
                                                                            <sb-item-body>
                                                                                <div class="table-responsive ">
                                                                                    <table class="table table-bordered table-hover">
                                                                                        <thead>
                                                                                            <tr class="bg-info">
                                                                                                <th>Select</th>
                                                                                                <th>Booking#</th>
                                                                                                <th>Date</th>
                                                                                                <th>Qty</th>
                                                                                                <th>Bal Qty</th>
                                                                                                <th>Rate</th>
                                                                                                <th>Confirmed</th>
                                                                                                <th>Qty To Load</th>
                                                                                                <th>Sizes</th>
                                                                                            </tr>
                                                                                        </thead>
                                                                                        <tbody>
                                                                                            <tr *ngFor="let dealerBookingInfo of dealerBookingList ">
                                                                                                <td>
                                                                                                    <!--<input name="IsSelect" type="radio" [checked]="idx === 0" (change)="onSelectionChange(dealerBookingInfo)" [value]="true">-->
                                                                                                    <input [(ngModel)]="dealerBookingInfo.IsSelect" type="checkbox" (change)="onSelectionChange(dealerBookingInfo)">
                                                                                                </td>
                                                                                                <td>{{dealerBookingInfo.IdBooking}}</td>
                                                                                                <td>{{dealerBookingInfo.CreatedOnStr}}</td>
                                                                                                <td>{{dealerBookingInfo.PendingQty}}</td>
                                                                                                <!--<td>{{+dealerBookingInfo.PendingQty + -dealerBookingInfo.LoadingQty}}</td>-->
                                                                                                <td>{{dealerBookingInfo.BalQty }}</td>
                                                                                                <td>{{dealerBookingInfo.BookingRate}}</td>
                                                                                                <td>
                                                                                                    <p *ngIf="dealerBookingInfo.IsConfirmed==1">
                                                                                                        Confirmed
                                                                                                    </p>
                                                                                                    <p *ngIf="dealerBookingInfo.IsConfirmed==0">
                                                                                                        Non-Confirmed
                                                                                                    </p>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <input type="number" name="LoadingQty" class="form-control col-xs-2 col-sm-2" placeholder="Enter Loading Qty " [(ngModel)]="dealerBookingInfo.LoadingQty" (ngModelChange)="valuechange($event, dealerBookingInfo)" [disabled]="!dealerBookingInfo.IsSelect">
                                                                                                    <!--[max]="{{dealerBookingInfo.PendingQty}}"-->
                                                                                                </td>
                                                                                                <td><button type="button" class="fa fa-bars btn btn-primary" (click)="CollectMatvsBookedOrder(1,dealerBookingInfo)" data-toggle="modal" data-target="#materialAddingModel"></button></td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    </table>
                                                                                </div>
                                                                            </sb-item-body>
                                                                        </div>
                                                                    </sb-item>
                                                                </squeezebox>
                                                            </div>

                                                            <div class="row col-lg-12" *ngIf="lblBookingNotFoundMsg !=undefined && lblBookingNotFoundMsg !=''">
                                                                <div class="form-group" style="color: red">( Awee! <i class="fa fa-meh-o" style="width: 15px;height: 15px" aria-hidden="true"></i> {{lblBookingNotFoundMsg}} )</div>
                                                            </div>

                                                            <!--Select Address & Material Config For Bottom-->
                                                            <div class="row top10">
                                                                <div class="col-lg-12">
                                                                    <div class="panel with-nav-tabs panel-default parentTabs tabbable">
                                                                        <div class="panel-heading">
                                                                            <ul class="nav  nav-tabs">
                                                                                <li class="active" name="DeliveryAddr"><a href="#middle2DeliveryAddr" data-toggle="tab">Delivery Address</a></li>
                                                                                <li name="MaterialSpec"><a href="#middle2MaterialSpec" data-toggle="tab">Loading Material</a></li>
                                                                            </ul>
                                                                        </div>
                                                                        <div class="panel-body">
                                                                            <div class="tab-content">
                                                                                <div class="tab-pane fade in active" id="middle2DeliveryAddr">

                                                                                    <div class="row  col-lg-12 top10">
                                                                                        <i class="fa fa-plus col-sm-4" style="padding-left: 0px;width: 106px; height: 15px" aria-hidden="true" (click)="addNewDeeliveryAddr()">Add Address</i>
                                                                                    </div>
                                                                                    <div class="row ">
                                                                                        <div class="col-lg-12 top10">
                                                                                            <div class="table-responsive ">
                                                                                                <table class="table table-bordered table-hover">
                                                                                                    <thead>
                                                                                                        <tr class="bg-info">
                                                                                                            <th>Select</th>
                                                                                                            <th>Delivery Address</th>
                                                                                                            <th>Village</th>
                                                                                                            <th>Taluka</th>
                                                                                                            <th>District</th>
                                                                                                            <th>Pin Code </th>
                                                                                                        </tr>
                                                                                                    </thead>
                                                                                                    <tbody>
                                                                                                        <tr *ngFor="let deliveryAddrTo of tempListDeliveryAddr">

                                                                                                            <td>
                                                                                                                <!--<input name="IsAddrSelect" type="radio" [checked]="deliveryAddrTo.IsSelected === true " (change)="onDeliveryAddrSelectionChange(deliveryAddrTo)" [value]="true">-->
                                                                                                                <input [(ngModel)]="deliveryAddrTo.IsSelected" type="checkbox" (change)="onDeliveryAddrSelectionChange(deliveryAddrTo)">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.Address}}" [(ngModel)]="deliveryAddrTo.Address" name="Address">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.VillageName}}" [(ngModel)]="deliveryAddrTo.VillageName" name="VillageName">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.TalukaName}}" [(ngModel)]="deliveryAddrTo.TalukaName" name="TalukaName">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.DistrictName}}" [(ngModel)]="deliveryAddrTo.DistrictName" name="DistrictName">
                                                                                                            </td>
                                                                                                            <td class="col-sm-2">
                                                                                                                <input type="number" class="form-control" placeholder="{{deliveryAddrTo.Pincode}}" [(ngModel)]="deliveryAddrTo.Pincode" name="Pincode">
                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    </tbody>
                                                                                                </table>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>

                                                                                </div>
                                                                                <div class="tab-pane fade in" id="middle2MaterialSpec">
                                                                                    <!--<div class="row">
                                                                                <div class="col-lg-12">
                                                                                    <div class="form-group">
                                                                                        <div class=" form-group col-sm-3" style="padding-left : 0px">
                                                                                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#materialAddingModel" (click)="CollectMatvsBookedOrder()">Select Sizes</button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>-->
                                                                                    <div class="row">
                                                                                        <div class="col-lg-12">
                                                                                            <div class="">
                                                                                                <div class="table-responsive">
                                                                                                    <table class="table table-bordered">
                                                                                                        <thead class="bg-default">
                                                                                                            <tr>
                                                                                                                <th>Booking#</th>
                                                                                                                <th>Material</th>
                                                                                                                <th>Category</th>
                                                                                                                <th>Specification </th>
                                                                                                                <th>Qty</th>

                                                                                                            </tr>
                                                                                                        </thead>
                                                                                                        <tbody>
                                                                                                            <tr *ngFor="let loadingMaterialSeq of middle2LoadingMaterialSequenceTOList">
                                                                                                                <td>{{loadingMaterialSeq.BookingId}}</td>
                                                                                                                <td>{{loadingMaterialSeq.MaterialDesc}}</td>
                                                                                                                <td>{{loadingMaterialSeq.ProdCatDesc}}</td>
                                                                                                                <td>{{loadingMaterialSeq.ProdSpecDesc}}</td>
                                                                                                                <td>{{loadingMaterialSeq.LoadingQty}}</td>

                                                                                                            </tr>
                                                                                                        </tbody>

                                                                                                    </table>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>



                                                            </div>

                                                        </div>
                                                        <!--Middle 3 Loading Material-->
                                                        <div class="tab-pane fade" id="middle3default" *ngIf="isMiddle3Loading!=0">
                                                            <div class="row">
                                                                <div class="col-lg-12">
                                                                    <!--<div class=" form-group">
                                                                <label class="control-label-left col-sm-2">Dealer Name :</label>

                                                                <div class="col-sm-4">
                                                                    <select class="form-control col-sm-3" required name="DealerOrgId" (change)="onSelect($event.target.value)" [(ngModel)]="selectedDealerID">
                                                            <option value="0">Select Dealer</option>
                                                             <option *ngFor="let DealerInfo of dealerList" [value]="DealerInfo.Value">{{DealerInfo.Text}}</option>
                                                            </select>
                                                                </div>
                                                            </div>-->
                                                                    <div class=" form-group">
                                                                        <div class="col-sm-6">
                                                                            <input ng2-auto-complete [(ngModel)]="dealerTo.Text" [source]="dealerList" [list-formatter]="autocompleListFormatter" value-property-name="Value" display-property-name="Text" placeholder="Dealer Name" class="form-control" (valueChanged)="onDealerNameSelection($event)">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="control-label-left col-sm-3">CD Structure:</label>
                                                                        <div class="col-sm-2">
                                                                            <select name="CdStructure" class="form-control col-sm-3" [(ngModel)]="loadingSlipTO.CdStructure">
                                                           <option *ngFor="let cdStructure of cdStructureLst " [value]="cdStructure.Text"
                                                           [selected]="cdStructure.Value === loadingSlipTO.CdStructure">{{cdStructure.Text}}</option>
                                                            </select>
                                                                        </div>
                                                                        <label class="col-sm-1">(%)</label>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                            <div class="row top10" *ngIf="lblBookingNotFoundMsg ==undefined || lblBookingNotFoundMsg == ''">
                                                                <squeezebox [multiple]="false">
                                                                    <sb-item>
                                                                        <!--[(collapsed)]="!isExpandOrder"-->
                                                                        <div class="panel-heading ">
                                                                            <sb-item-head>
                                                                                Pending Qty
                                                                            </sb-item-head>
                                                                        </div>

                                                                        <div class="col-lg-12 ">
                                                                            <sb-item-body>
                                                                                <div class="table-responsive ">
                                                                                    <table class="table table-bordered table-hover">
                                                                                        <thead>
                                                                                            <tr class="bg-info">
                                                                                                <th>Select</th>
                                                                                                <th>Booking#</th>
                                                                                                <th>Date</th>
                                                                                                <th>Qty</th>
                                                                                                <th>Bal Qty</th>
                                                                                                <th>Rate</th>
                                                                                                <th>Confirmed</th>
                                                                                                <th>Qty To Load</th>
                                                                                                <th>Sizes</th>
                                                                                            </tr>
                                                                                        </thead>
                                                                                        <tbody>
                                                                                            <tr *ngFor="let dealerBookingInfo of dealerBookingList ">
                                                                                                <td>
                                                                                                    <!--<input name="IsSelect" type="radio" [checked]="idx === 0" (change)="onSelectionChange(dealerBookingInfo)" [value]="true">-->
                                                                                                    <input [(ngModel)]="dealerBookingInfo.IsSelect" type="checkbox" (change)="onSelectionChange(dealerBookingInfo)">
                                                                                                </td>
                                                                                                <td>{{dealerBookingInfo.IdBooking}}</td>
                                                                                                <td>{{dealerBookingInfo.CreatedOnStr}}</td>
                                                                                                <td>{{dealerBookingInfo.PendingQty}}</td>
                                                                                                <!--<td>{{+dealerBookingInfo.PendingQty + -dealerBookingInfo.LoadingQty}}</td>-->
                                                                                                <td>{{dealerBookingInfo.BalQty }}</td>
                                                                                                <td>{{dealerBookingInfo.BookingRate}}</td>
                                                                                                <td>
                                                                                                    <p *ngIf="dealerBookingInfo.IsConfirmed==1">
                                                                                                        Confirmed
                                                                                                    </p>
                                                                                                    <p *ngIf="dealerBookingInfo.IsConfirmed==0">
                                                                                                        Non-Confirmed
                                                                                                    </p>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <input type="number" name="LoadingQty" class="form-control col-xs-2 col-sm-2" placeholder="Enter Loading Qty " [(ngModel)]="dealerBookingInfo.LoadingQty" (ngModelChange)="valuechange($event, dealerBookingInfo)" [disabled]="!dealerBookingInfo.IsSelect">
                                                                                                    <!--[max]="{{dealerBookingInfo.PendingQty}}"-->
                                                                                                </td>
                                                                                                <td><button type="button" class="fa fa-bars btn btn-primary" (click)="CollectMatvsBookedOrder(1,dealerBookingInfo)" data-toggle="modal" data-target="#materialAddingModel"></button></td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    </table>
                                                                                </div>
                                                                            </sb-item-body>
                                                                        </div>
                                                                    </sb-item>
                                                                </squeezebox>
                                                            </div>
                                                            <div class="row col-lg-12" *ngIf="lblBookingNotFoundMsg !=undefined && lblBookingNotFoundMsg !=''">
                                                                <div class="form-group" style="color: red">( Awee! <i class="fa fa-meh-o" style="width: 15px;height: 15px" aria-hidden="true"></i> {{lblBookingNotFoundMsg}} )</div>
                                                            </div>
                                                            <!--Select Address & Material Config For Bottom-->
                                                            <div class="row top10">
                                                                <div class="col-lg-12">
                                                                    <div class="panel with-nav-tabs panel-default parentTabs tabbable">
                                                                        <div class="panel-heading">
                                                                            <ul class="nav  nav-tabs">
                                                                                <li class="active" name="DeliveryAddr"><a href="#middle3DeliveryAddr" data-toggle="tab">Delivery Address</a></li>
                                                                                <li name="MaterialSpec"><a href="#middle3MaterialSpec" data-toggle="tab">Loading Material</a></li>
                                                                            </ul>
                                                                        </div>
                                                                        <div class="panel-body">
                                                                            <div class="tab-content">
                                                                                <div class="tab-pane fade in active" id="middle3DeliveryAddr">

                                                                                    <div class="row  col-lg-12 top10">
                                                                                        <i class="fa fa-plus col-sm-4" style="padding-left: 0px;width: 106px; height: 15px" aria-hidden="true" (click)="addNewDeeliveryAddr()">Add Address</i>
                                                                                    </div>
                                                                                    <div class="row ">
                                                                                        <div class="col-lg-12 top10">
                                                                                            <div class="table-responsive ">
                                                                                                <table class="table table-bordered table-hover">
                                                                                                    <thead>
                                                                                                        <tr class="bg-info">
                                                                                                            <th>Select</th>
                                                                                                            <th>Delivery Address</th>
                                                                                                            <th>Village</th>
                                                                                                            <th>Taluka</th>
                                                                                                            <th>District</th>
                                                                                                            <th>Pin Code </th>
                                                                                                        </tr>
                                                                                                    </thead>
                                                                                                    <tbody>
                                                                                                        <tr *ngFor="let deliveryAddrTo of tempListDeliveryAddr">

                                                                                                            <td>
                                                                                                                <!--<input name="IsAddrSelect" type="radio" [checked]="deliveryAddrTo.IsSelected === true " (change)="onDeliveryAddrSelectionChange(deliveryAddrTo)" [value]="true">-->
                                                                                                                <input [(ngModel)]="deliveryAddrTo.IsSelected" type="checkbox" (change)="onDeliveryAddrSelectionChange(deliveryAddrTo)">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.Address}}" [(ngModel)]="deliveryAddrTo.Address" name="Address">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.VillageName}}" [(ngModel)]="deliveryAddrTo.VillageName" name="VillageName">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.TalukaName}}" [(ngModel)]="deliveryAddrTo.TalukaName" name="TalukaName">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.DistrictName}}" [(ngModel)]="deliveryAddrTo.DistrictName" name="DistrictName">
                                                                                                            </td>
                                                                                                            <td class="col-sm-2">
                                                                                                                <input type="number" class="form-control" placeholder="{{deliveryAddrTo.Pincode}}" [(ngModel)]="deliveryAddrTo.Pincode" name="Pincode">
                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    </tbody>
                                                                                                </table>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>

                                                                                </div>
                                                                                <div class="tab-pane fade in" id="middle3MaterialSpec">
                                                                                    <!--<div class="row">
                                                                                <div class="col-lg-12">
                                                                                    <div class="form-group">
                                                                                        <div class=" form-group col-sm-3" style="padding-left : 0px">
                                                                                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#materialAddingModel" (click)="CollectMatvsBookedOrder()">Select Sizes</button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>-->
                                                                                    <div class="row">
                                                                                        <div class="col-lg-12">
                                                                                            <div class="">
                                                                                                <div class="table-responsive">
                                                                                                    <table class="table table-bordered">
                                                                                                        <thead class="bg-default">
                                                                                                            <tr>
                                                                                                                <th>Booking#</th>
                                                                                                                <th>Material</th>
                                                                                                                <th>Category</th>
                                                                                                                <th>Specification</th>
                                                                                                                <th> Qty</th>

                                                                                                            </tr>
                                                                                                        </thead>
                                                                                                        <tbody>
                                                                                                            <tr *ngFor="let loadingMaterialSeq of middle3LoadingMaterialSequenceTOList">
                                                                                                                <td>{{loadingMaterialSeq.BookingId}}</td>
                                                                                                                <td>{{loadingMaterialSeq.MaterialDesc}}</td>
                                                                                                                <td>{{loadingMaterialSeq.ProdCatDesc}}</td>
                                                                                                                <td>{{loadingMaterialSeq.ProdSpecDesc}}</td>
                                                                                                                <td>{{loadingMaterialSeq.LoadingQty}}</td>

                                                                                                            </tr>
                                                                                                        </tbody>

                                                                                                    </table>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>



                                                            </div>

                                                        </div>
                                                        <!--Top Loading Material-->
                                                        <div class="tab-pane fade" id="topdefault" *ngIf="isTopLoading!=0">
                                                            <div class="row">
                                                                <div class="col-lg-12">
                                                                    <!--<div class=" form-group">
                                                                <label class="control-label-left col-sm-2">Dealer Name :</label>

                                                                <div class="col-sm-4">
                                                                    <select class="form-control col-sm-3" required name="DealerOrgId" (change)="onSelect($event.target.value)" [(ngModel)]="selectedDealerID">
                                                            <option value="0">Select Dealer</option>
                                                            <option *ngFor="let DealerInfo of dealerList" [value]="DealerInfo.Value">{{DealerInfo.Text}}</option>
                                                            </select>
                                                                </div>
                                                            </div>-->
                                                                    <div class=" form-group">
                                                                        <div class="col-sm-6">
                                                                            <input ng2-auto-complete [(ngModel)]="dealerTo.Text" [source]="dealerList" [list-formatter]="autocompleListFormatter" value-property-name="Value" display-property-name="Text" placeholder="Dealer Name" class="form-control" (valueChanged)="onDealerNameSelection($event)">
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label class="control-label-left col-sm-3">CD Structure:</label>
                                                                        <div class="col-sm-2">
                                                                            <select name="CdStructure" class="form-control col-sm-3" [(ngModel)]="loadingSlipTO.CdStructure">
                                                               <option *ngFor="let cdStructure of cdStructureLst " [value]="cdStructure.Text"
                                                               [selected]="cdStructure.Value === loadingSlipTO.CdStructure">{{cdStructure.Text}}</option>
                                                            </select>
                                                                        </div>
                                                                        <label class="col-sm-1">(%)</label>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                            <div class="row top10" *ngIf="lblBookingNotFoundMsg ==undefined || lblBookingNotFoundMsg == ''">
                                                                <squeezebox [multiple]="false">
                                                                    <sb-item>
                                                                        <!--[(collapsed)]="!isExpandOrder"-->
                                                                        <div class="panel-heading ">
                                                                            <sb-item-head>
                                                                                Pending Qty
                                                                            </sb-item-head>
                                                                        </div>

                                                                        <div class="col-lg-12 ">
                                                                            <sb-item-body>
                                                                                <div class="table-responsive ">
                                                                                    <table class="table table-bordered table-hover">
                                                                                        <thead>
                                                                                            <tr class="bg-info">
                                                                                                <th>Select</th>
                                                                                                <th>Booking#</th>
                                                                                                <th>Date</th>
                                                                                                <th>Qty</th>
                                                                                                <th>Bal Qty</th>
                                                                                                <th>Rate</th>
                                                                                                <th>Confirmed</th>
                                                                                                <th>Qty To Load</th>
                                                                                                <th>Sizes</th>
                                                                                            </tr>
                                                                                        </thead>
                                                                                        <tbody>
                                                                                            <tr *ngFor="let dealerBookingInfo of dealerBookingList ">
                                                                                                <td>
                                                                                                    <!--<input name="IsSelect" type="radio" [checked]="idx === 0" (change)="onSelectionChange(dealerBookingInfo)" [value]="true">-->
                                                                                                    <input [(ngModel)]="dealerBookingInfo.IsSelect" type="checkbox" (change)="onSelectionChange(dealerBookingInfo)">
                                                                                                </td>
                                                                                                <td>{{dealerBookingInfo.IdBooking}}</td>
                                                                                                <td>{{dealerBookingInfo.CreatedOnStr}}</td>
                                                                                                <td>{{dealerBookingInfo.PendingQty}}</td>
                                                                                                <!--<td>{{+dealerBookingInfo.PendingQty + -dealerBookingInfo.LoadingQty}}</td>-->
                                                                                                <td>{{dealerBookingInfo.BalQty }}</td>
                                                                                                <td>{{dealerBookingInfo.BookingRate}}</td>
                                                                                                <td>
                                                                                                    <p *ngIf="dealerBookingInfo.IsConfirmed==1">
                                                                                                        Confirmed
                                                                                                    </p>
                                                                                                    <p *ngIf="dealerBookingInfo.IsConfirmed==0">
                                                                                                        Non-Confirmed
                                                                                                    </p>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <input type="number" name="LoadingQty" class="form-control col-xs-2 col-sm-2" placeholder="Enter Loading Qty " [(ngModel)]="dealerBookingInfo.LoadingQty" (ngModelChange)="valuechange($event, dealerBookingInfo)" [disabled]="!dealerBookingInfo.IsSelect">
                                                                                                    <!--[max]="{{dealerBookingInfo.PendingQty}}"-->
                                                                                                </td>
                                                                                                <td><button type="button" class="fa fa-bars btn btn-primary" (click)="CollectMatvsBookedOrder(1,dealerBookingInfo)" data-toggle="modal" data-target="#materialAddingModel"></button></td>
                                                                                            </tr>
                                                                                        </tbody>
                                                                                    </table>
                                                                                </div>
                                                                            </sb-item-body>
                                                                        </div>
                                                                    </sb-item>
                                                                </squeezebox>
                                                            </div>
                                                            <div class="row col-lg-12" *ngIf="lblBookingNotFoundMsg !=undefined && lblBookingNotFoundMsg !=''">
                                                                <div class="form-group" style="color: red">( Awee! <i class="fa fa-meh-o" style="width: 15px;height: 15px" aria-hidden="true"></i> {{lblBookingNotFoundMsg}} )</div>
                                                            </div>
                                                            <!--Select Address & Material Config For Bottom-->
                                                            <div class="row top10">
                                                                <div class="col-lg-12">
                                                                    <div class="panel with-nav-tabs panel-default parentTabs tabbable">
                                                                        <div class="panel-heading">
                                                                            <ul class="nav  nav-tabs">
                                                                                <li class="active" name="DeliveryAddr"><a href="#topDeliveryAddr" data-toggle="tab">Delivery Address</a></li>
                                                                                <li name="MaterialSpec"><a href="#topMaterialSpec" data-toggle="tab">Loading Material</a></li>
                                                                            </ul>
                                                                        </div>
                                                                        <div class="panel-body">
                                                                            <div class="tab-content">
                                                                                <div class="tab-pane fade in active" id="topDeliveryAddr">

                                                                                    <div class="row  col-lg-12 top10">
                                                                                        <i class="fa fa-plus col-sm-4" style="padding-left: 0px;width: 106px; height: 15px" aria-hidden="true" (click)="addNewDeeliveryAddr()">Add Address</i>
                                                                                    </div>
                                                                                    <div class="row ">
                                                                                        <div class="col-lg-12 top10">
                                                                                            <div class="table-responsive ">
                                                                                                <table class="table table-bordered table-hover">
                                                                                                    <thead>
                                                                                                        <tr class="bg-info">
                                                                                                            <th>Select</th>
                                                                                                            <th>Delivery Address</th>
                                                                                                            <th>Village</th>
                                                                                                            <th>Taluka</th>
                                                                                                            <th>District</th>
                                                                                                            <th>Pin Code </th>
                                                                                                        </tr>
                                                                                                    </thead>
                                                                                                    <tbody>
                                                                                                        <tr *ngFor="let deliveryAddrTo of tempListDeliveryAddr">

                                                                                                            <td>
                                                                                                                <!--<input name="IsAddrSelect" type="radio" [checked]="deliveryAddrTo.IsSelected === true " (change)="onDeliveryAddrSelectionChange(deliveryAddrTo)" [value]="true">-->
                                                                                                                <input [(ngModel)]="deliveryAddrTo.IsSelected" type="checkbox" (change)="onDeliveryAddrSelectionChange(deliveryAddrTo)">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.Address}}" [(ngModel)]="deliveryAddrTo.Address" name="Address">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.VillageName}}" [(ngModel)]="deliveryAddrTo.VillageName" name="VillageName">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.TalukaName}}" [(ngModel)]="deliveryAddrTo.TalukaName" name="TalukaName">
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input class="form-control" placeholder="{{deliveryAddrTo.DistrictName}}" [(ngModel)]="deliveryAddrTo.DistrictName" name="DistrictName">
                                                                                                            </td>
                                                                                                            <td class="col-sm-2">
                                                                                                                <input type="number" class="form-control" placeholder="{{deliveryAddrTo.Pincode}}" [(ngModel)]="deliveryAddrTo.Pincode" name="Pincode">
                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    </tbody>
                                                                                                </table>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>

                                                                                </div>
                                                                                <div class="tab-pane fade in" id="topMaterialSpec">
                                                                                    <!--<div class="row">
                                                                                <div class="col-lg-12">
                                                                                    <div class="form-group">
                                                                                        <div class=" form-group col-sm-3" style="padding-left : 0px">
                                                                                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#materialAddingModel" (click)="CollectMatvsBookedOrder()">Select Sizes</button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>-->
                                                                                    <div class="row">
                                                                                        <div class="col-lg-12">
                                                                                            <div class="">
                                                                                                <div class="table-responsive">
                                                                                                    <table class="table table-bordered">
                                                                                                        <thead class="bg-default">
                                                                                                            <tr>
                                                                                                                <th>Booking#</th>
                                                                                                                <th>Material</th>
                                                                                                                <th>Category</th>
                                                                                                                <th>Specification</th>
                                                                                                                <th>Qty</th>

                                                                                                            </tr>
                                                                                                        </thead>
                                                                                                        <tbody>
                                                                                                            <tr *ngFor="let loadingMaterialSeq of topLoadingMaterialSequenceTOList">
                                                                                                                <td>{{loadingMaterialSeq.BookingId}}</td>
                                                                                                                <td>{{loadingMaterialSeq.MaterialDesc}}</td>
                                                                                                                <td>{{loadingMaterialSeq.ProdCatDesc}}</td>
                                                                                                                <td>{{loadingMaterialSeq.ProdSpecDesc}}</td>
                                                                                                                <td>{{loadingMaterialSeq.LoadingQty}}</td>

                                                                                                            </tr>
                                                                                                        </tbody>

                                                                                                    </table>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>



                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="row top10">
                                        <button type="button" class="btn btn-primary btn-color btn-bg-color  margin-left" (click)="encryptDecrypt()">Cancel</button>
                                        <button type="button" name="loadingConfirm" class="btn btn-primary" (click)="ConfirmAndLoadingTO()">Send For Confirmation</button>
                                    </div>
                                    <div class="row top10">
                                        <div class="col-lg-12">

                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <app-error-message></app-error-message>
            <app-confirm></app-confirm>
        </div>
    </div>
</div>